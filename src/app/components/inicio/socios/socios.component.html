<p-table
#dt1
[value]="data" 
[columns]="selectedColumns"
dataKey="id"
[tableStyle]="{ 'min-width': '50rem' }" 
[styleClass]="'p-datatable-sm p-datatable-striped'" 
[paginator]="true" 
[rows]="5" 
[showCurrentPageReport]="true" 
[tableStyle]="{ 'min-width': '50rem' }" 
currentPageReportTemplate="Mostrando {first} al {last} de {totalRecords} registros" 
[rowsPerPageOptions]="[5, 10, 20, 50]"
[globalFilterFields]="['name', 'country.name', 'representative.name', 'status']"
selectionMode="multiple" 
[(selection)]="selectedProducts"
[metaKeySelection]="true"
dataKey="code"
[scrollable]="true"
scrollHeight="100%"
        >
    <ng-template pTemplate="caption">
        <div class="row">
            <div class="col">
                <p-multiSelect [options]="cols" [(ngModel)]="selectedColumns" optionLabel="header"
                selectedItemsLabel="{0} columns selected" [style]="{'min-width': '200px'}" placeholder="Choose Columns"></p-multiSelect>
    
            </div>
            <div class="col">
                <div class="flex">
                    <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>
                </div>
            </div>
        </div>


    </ng-template>
    <!--ng-template pTemplate="caption"> Descripcion </ng-template-->
    <ng-template pTemplate="header" let-columns>
        <tr>
            
            @for (col of columns; track $index) {
                <th style="min-width:15rem" pSortableColumn="{{col.field}}">
                    <div class="flex align-items-center">
                        {{col.header}}
                        <p-sortIcon field="{{col.field}}"></p-sortIcon>
                        <p-columnFilter type="{{col.type}}" field="{{col.field}}" display="menu"></p-columnFilter>
                    </div>
                </th>
            }




            <!--th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
            <th pSortableColumn="category">Category <p-sortIcon field="category"></p-sortIcon></th>
            <th>Quantity</th-->
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product let-rowIndex="rowIndex" let-columns="columns">

        <tr [pSelectableRow]="product" [pSelectableRowIndex]="rowIndex">
            @for (col of columns; track $index) {
                <td>{{ product[col.field] }}</td>
            }
        </tr>

    </ng-template>
</p-table>